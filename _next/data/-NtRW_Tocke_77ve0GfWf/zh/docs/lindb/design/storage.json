{"pageProps":{"page":{"path":"/docs/lindb/10-design/05-storage.mdx","meta":{"title":"存储"},"title":"存储","parent":"Design","commitInfo":{"author":"stone1100","date":"Mon Jun 24 07:03:27 2024"}},"source":{"compiledSource":"\"use strict\";\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = {\n    a: \"a\",\n    code: \"code\",\n    div: \"div\",\n    h2: \"h2\",\n    h3: \"h3\",\n    h5: \"h5\",\n    img: \"img\",\n    li: \"li\",\n    ol: \"ol\",\n    p: \"p\",\n    path: \"path\",\n    pre: \"pre\",\n    span: \"span\",\n    svg: \"svg\",\n    ul: \"ul\",\n    ..._provideComponents(),\n    ...props.components\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"LinDB 所有的数据都会存储在本地磁盘上，根据不同的数据类型有不同的存储结构：\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Metirc Metadata: 存储 Metric Name 及其下面的 Fields / Tag Keys；\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Tags(Series) Index: 存储一个 Metric 下面所有的 Tags ，这部分分为 2 种数据类型；\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"正向： Series ID 对应的 Tags；\"\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"反向：存储 Tag Key/Value 的倒排索引，即每个 Tag Value 下面有哪些 Series ID ，Series ID 使用 \", _jsx(_components.a, {\n              href: \"http://roaringbitmap.org\",\n              children: \"RoaringBitMap\"\n            }), \"来存储；\"]\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Data: 所有 Time Series 下 Data Point 的存储；\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"以上所有的数据类型都存储在底层一个通用的 KV Store 里面。\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"时序特性\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"在讲存储之前，首先来讲一下时序的特性，如图：\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/img/lindb/design/time_series_characteristic.png\",\n        alt: \"时序特性\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"时序数据特性（根据其时间特性可以分为不随时间变化和随时间变化的数据）\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Time Series  =>  Metric + Tags：这部分数据基本都是字符串，而且该数据占数据包的大头，但是不会随时间变化而变化，\\n尽量把字符串变换成数值来存储，以降低存储成本；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Fields：这部分数据基本都是数值，并且随着时间变化而变化，但是数值类型容易做压缩；\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"存储结构\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Database\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/img/lindb/design/storage_database.png\",\n        alt: \"数据库副本分布\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"一个数据库的数据按 Shard 分散在 Storage 集群的不同节点上；\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"一个 Shard 可以有多个副本，详细请看\", _jsx(_components.a, {\n          href: \"/docs/lindb/design/replication\",\n          children: \"复制\"\n        }), \"；\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Shard\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"shiki shiki-themes material-theme-lighter catppuccin-macchiato language-sh\",\n      style: {\n        backgroundColor: \"#FAFAFA\",\n        \"--shiki-dark-bg\": \"#1e293b\",\n        color: \"#90A4AE\",\n        \"--shiki-dark\": \"#cad3f5\"\n      },\n      tabIndex: \"0\",\n      children: _jsxs(_components.code, {\n        className: \"language-sh\",\n        children: [_jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" db_test_1\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" meta\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"  |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" namespace\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"  |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" metric\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"  |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" field\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"  |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" tagkey\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"  |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  └─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" tagvalue\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  └─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" shard\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \"     ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 1\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" inverted\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" forward\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  └─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" segment\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"     ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" day\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 20190101\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"  |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 01\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"  |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 02\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"  |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  └─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 23\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  └─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 20190102\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"     ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" month\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 201901\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"  |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 01\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"  |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 02\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"  |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  └─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 31\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  └─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 201902\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"     └─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" year\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"        ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 2019\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"        |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 01\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"        |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 02\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"        |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  └─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 12\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"     |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"        └─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 2020\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"|\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \"     └─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#F76D47\",\n              \"--shiki-dark\": \"#F5A97F\"\n            },\n            children: \" 2\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"└─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" db_test_2\"\n          })]\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"line\"\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"如上是数据在一台 Storage 节点上面的存储目录结构，以单个数据库在单节点上的数据结构为例：\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"meta：存储所有的 metadata，为数据库级别：\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"namespace\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"metric\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"field\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"tag key\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"tag value\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"shard：一个数据库在单节点上会存在多个 shard，每个 shard 下有如下数据：\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"index：存储正反向索引；\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"segment：存储每个时间片的数据；\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"meta 和 index 相关结构请看\", _jsx(_components.a, {\n        href: \"/docs/lindb/design/inverted-index\",\n        children: \"索引\"\n      }), \"。\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"所有的数据根据数据库的 Interval 来计算按时间片来存储具体的数据：\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"时序为强时间相关性，更好的处理数据查询；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"方便处理 TTL ，数据如果过期，直接删除相应的目录即可；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"每个 shard 下面会存在多个 segment，每个 segment 根据对应 interval 来存储相应时间片的数据；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"为什么每个 segment 下面又按 interval 存储很多个 data family ？这是因为 LinDB 主要解决的问题是存储海量的监控数据，一般的监控数据基本是最新时间写入，基本不会写历史数据，而整个 LinDB 的数据存储类似 LSM 方式，为了减少数据文件之间的合并操作导致的写放大，选择对 segment 时间片进行再次分片。\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"下面以 interval 为 10s 为例说明:\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"segment 按天来存储；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"每个 segment 按小时来分 data family，每个小时一个 family，每个 family 中的文件再按列存储具体的数据；\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"KV Store\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"shiki shiki-themes material-theme-lighter catppuccin-macchiato language-sh\",\n      style: {\n        backgroundColor: \"#FAFAFA\",\n        \"--shiki-dark-bg\": \"#1e293b\",\n        color: \"#90A4AE\",\n        \"--shiki-dark\": \"#cad3f5\"\n      },\n      tabIndex: \"0\",\n      children: _jsxs(_components.code, {\n        className: \"language-sh\",\n        children: [_jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"└─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" kv_store_1\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"   ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" CURRENT\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"   ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" LOCK\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"   ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" MANIFEST-000010\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"   ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" OPTIONS\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"   ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" family_1\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"   |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" 000001.sst\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"   |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" 000002.sst\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"   |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" 000004.sst\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"   |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  └─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" 000008.sst\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"   ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" family_2\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"   |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" 000011.sst\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"   |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" 000012.sst\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"   |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  ├─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" 000014.sst\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \"   |\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"  └─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" 000018.sst\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E2931D\",\n              \"--shiki-dark\": \"#8AADF4\",\n              fontStyle: \"inherit\",\n              \"--shiki-dark-font-style\": \"italic\"\n            },\n            children: \"   └─\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" family_3\"\n          })]\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"line\"\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"整个 KV Store 类似 LSM ，但是又有别于 LSM ，主要的区别如下：\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"没有 Memory Table, 因为整个系统会有一个 Memory Database 来存储当前一段时间的所有数据，这些数据会直接写文件到 KV Store 中；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Key 都是 uint32, 因为根据时序特性会把所有的 string 转换成 uint32，所以底层的 KV Store 直接设计成 uint32 => binary 的结构；\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"整个目录跟 rocksdb 很像，支持 column family。\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"CURRENT：记录当前有效的 MANIFEST 文件；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"LOCK：文件锁，防止多进程打开同一个 KV Store；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"MANIFEST：所有 sstable 变更的 change log，包括一些 sequence 的 change log 等；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"OPTIONS：KV Store 配置信息，包括每个 column family 级别的配置信息；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"KV Store 下可以存储多个 column family，每个 family 下面存储多个 sstable 文件；\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Compaction\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/img/lindb/design/storage_compaction.png\",\n        alt: \"Compaction\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"每个 KV Store 都会启一个 Goroutine 定期 Check 每个 Family Level 0  面的文件是否太多，满足 Compaction 的条件；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"当满足条件时，上述的 goroutine会 通知对应 Family 执行 Compaction Job ，如果当前已经有 Compaction 正在执行，则忽略这次操作，整个操作只在一个 Goroutine 内完成，这样的好处是整个操作为无锁操作，因为 Compaction Job 是一个很重的操作，如果需要加锁则可能会影响新文件的写入\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Compaction 主要是把 Level 0 中的文件合并到 Level 1 中，目前 LinDB 只有 2 级 Level，这个有别于 LevelDB。\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Compaction 条件，符合以下任意一个条件都会触发Compact任务：\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Level 0 中的文件数超过配置的文件数；\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"合并过程目前会有 2 类：\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"直接把 Level 0 的文件移到 Level 1 上，但需要满足需要 compact 的条件，pick files from level 0 的文件数为 1， pick fiels from level 1 的文件数为 0，即只有一个文件需要合并，只需修改 Metadata 即可；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"需要把多个文件合并成一个大的文件；\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Compact 过程如下：\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"选取需要 Compact 的文件，首先选取当前 level 0 的文件，再遍历每个 level 0 的文件，按 key range 从 level 1 取与其有重合的文件，这里为什么按每个 level 0 的文件，而不是按 level 0 中最终的 key range 来取 level 1 的文件。因为整个 level 0 中的文件的 keys 可能是比较散列的，这样如果取最终的 range 话可能拿到一个很大的范围。例如：\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"shiki shiki-themes material-theme-lighter catppuccin-macchiato language-yaml\",\n      style: {\n        backgroundColor: \"#FAFAFA\",\n        \"--shiki-dark-bg\": \"#1e293b\",\n        color: \"#90A4AE\",\n        \"--shiki-dark\": \"#cad3f5\"\n      },\n      tabIndex: \"0\",\n      children: _jsxs(_components.code, {\n        className: \"language-yaml\",\n        children: [_jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E53935\",\n              \"--shiki-dark\": \"#8AADF4\"\n            },\n            children: \"for example\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \":\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E53935\",\n              \"--shiki-dark\": \"#8AADF4\"\n            },\n            children: \"Level 0\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \":\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E53935\",\n              \"--shiki-dark\": \"#8AADF4\"\n            },\n            children: \"    file 1\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \":\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" 1~10\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E53935\",\n              \"--shiki-dark\": \"#8AADF4\"\n            },\n            children: \"    file 2\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \":\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" 1000~1001\"\n          })]\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"line\",\n          children: _jsx(_components.span, {\n            style: {\n              color: \"#90A4AE\",\n              \"--shiki-dark\": \"#CAD3F5\"\n            },\n            children: \"    \"\n          })\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E53935\",\n              \"--shiki-dark\": \"#8AADF4\"\n            },\n            children: \"Level 1\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \":\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E53935\",\n              \"--shiki-dark\": \"#8AADF4\"\n            },\n            children: \"    file 3\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \":\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" 1~5\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E53935\",\n              \"--shiki-dark\": \"#8AADF4\"\n            },\n            children: \"    file 4\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \":\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" 100~200\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#E53935\",\n              \"--shiki-dark\": \"#8AADF4\"\n            },\n            children: \"    file 5\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#8BD5CA\"\n            },\n            children: \":\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" 400~500\"\n          })]\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"line\",\n          children: _jsx(_components.span, {\n            style: {\n              color: \"#90A4AE\",\n              \"--shiki-dark\": \"#CAD3F5\"\n            },\n            children: \"    \"\n          })\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#939AB7\"\n            },\n            children: \"-\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" 如果按 level 0 最终 range 的话，1~1001，这样的就会把 level 1 的文件全取出来\"\n          })]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"line\",\n          children: [_jsx(_components.span, {\n            style: {\n              color: \"#39ADB5\",\n              \"--shiki-dark\": \"#939AB7\"\n            },\n            children: \"-\"\n          }), _jsx(_components.span, {\n            style: {\n              color: \"#91B859\",\n              \"--shiki-dark\": \"#A6DA95\"\n            },\n            children: \" 如果按每个 level 0 的 range 来取的话，那最终只需要取 file 3（1~5）这个文件就可以\"\n          })]\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"line\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"2\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"整个 compact 过程其实是一个多路合并的过程，由于 flush 写文件的时候 key 是排好序的，所以 compact 只需要按顺序读取每个文件，并且按 key 的顺序从这些文件中遍历数据即可；\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"过程中需要把 key 相同的数据进行合并，合并的过程需要根据不同的数据类型来合并，需要实现 Merger Interface ；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"如果 key 不需要合并的操作，直接把对应的数据写到文件中，这样就可以减少不必要的序列化操作；\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"3\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"compact 合并写文件成功完成，需要把 Version Edit 提交到 Version Set 中，此时 Version Edit 中包括了新写的文件和需要删除的老文件，这个过程需要锁；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"删除一些无用的文件，如已经合并掉的文件，或者失败之后的一些中间结果文件，这里需要注意的是一定要在 Version Edit 提交到  Version Set 成功之后，作清理操作，否则会导致数据文件错乱问题；\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.div, {\n      className: \"markdown-alert markdown-alert-tip\",\n      dir: \"auto\",\n      children: [\"\\n\", _jsxs(_components.p, {\n        className: \"markdown-alert-title\",\n        dir: \"auto\",\n        children: [_jsx(_components.svg, {\n          className: \"octicon\",\n          viewBox: \"0 0 16 16\",\n          width: \"16\",\n          height: \"16\",\n          \"aria-hidden\": \"true\",\n          children: _jsx(_components.path, {\n            d: \"M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z\"\n          })\n        }), \"TIP\"]\n      }), \"\\n\", _jsx(_components.p, {}), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"Version Edit: 类似 LevelDB ，会把每次写文件操作都记录一个 Version Edit ，Version Edit 记录新增文件/删除文件，这样就可以做到当系统重启或者 Crash，只要重新加载一遍 Version Edit Log 就可以提到整个有用的文件有那些；\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"Version Set: 记录当前存储有哪些文件可用；\"\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Rollup\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/img/lindb/design/storage_rollup.png\",\n        alt: \"Rollup\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Rollup Job 是一种特殊的 Compact Job，主要处理数据降精度（ DownSampling ）,即 10s->5m->1h，其核心的逻辑和Compaction Job 一样，主要区别如下：\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"是由 Source Family 把数据合并到 Target Family 操作 2 个 Family ；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"合并完成后，把 Source Fam/img/lindbily Version 中需要 Rollup 的文件删除，在 Target Family Version 中记录已经 Rollup 过的文件，以防止重复数据合并；\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"SSTable layout\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/img/lindb/design/storage_sstable.png\",\n        alt: \"文件存储结构\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"每个 SSTable 的结构如上图，主要有如下几部分组件：\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Footer Block：存储 Magic Number(8 Bytes) + Version(1 byte) + Index Block Offset(4 bytes) + Offset Block Offset(4 bytes)，可以通过 Index Block Offset 和 Offset Block Offset 以读取 Index Block 和 Offset Block 的内容；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Index Block：使用 Roaring Bitmap 存储当前 SSTable 文件里面所有的 Keys ，因为所有的 Key 都是 uint32 ，所以可以直接用 Roaring Bitmap 来存储，这样的好处是，可以通过 Roaring Bitmap 来判断一个 Key 是否存在的同时，也可以知道这个 Key 在这个 Roaring Bitmap 中第几个位置；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Offset Block：存储所有的 Value Entry 的 Offset ，\\b\\b并且每个 Offset 都是以固定长度来存储，所以如果在 Index Block 找到是第 N 个位置，那个 Value Entry 的 Offset 就是 N * Offset Length 指向的数据；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Value Entry：存储每个 Key/Value 对应的 Value , 因为 Key 已经在 Index Block 存储了，所以 Value Entry 只需要存储 Key/Value 中的 Value 即可；\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"这样做的好处是 Key 的压缩可以做的很好，而且 Roaring Bitmap 已经对 Bitmap 做了很多优化，通过 Key 来 Get 数据很高效，因为不会像 LevelDB 那样中间还要二分查询 Key，而且 Bitmap 可以做到常驻在内存中。\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"基于上面的存储结构整个查询逻辑如下：\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"通过 Index Block 直接可以知道查询的 Key 是否存在，如果不存在直接返回，如果存在，拿到在 Bitmap 中的第几个位置 (Index)；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"第一跳: 根据上面拿到的 Index，在 Offset Block，跳过 Index * Offset Length 之后就可以拿到 Value Entry Offset(Position)；\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"第二跳: 根据上面拿到的 Position，以文件开头跳过 Position 之后就是想要的 Value，直接读取即可；\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"如果想做 Scan 操作，直接基于 Index Block 和 Offset Blcok 顺序读取即可。\"\n    }), \"\\n\", _jsx(_components.h5, {\n      children: \"参考\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"http://roaringbitmap.org\",\n          children: \"RoaringBitMap\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"http://opentsdb.net/docs/build/html/user_guide/uids.html\",\n          children: \"OpenTSDB UID\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://rocksdb.org/\",\n          children: \"RocksDB\"\n        })\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = {\n    ..._provideComponents(),\n    ...props.components\n  };\n  return MDXLayout ? _jsx(MDXLayout, {\n    ...props,\n    children: _jsx(_createMdxContent, {\n      ...props\n    })\n  }) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}},"tocItems":[{"id":"时序特性","level":2,"title":"时序特性"},{"id":"存储结构","level":2,"title":"存储结构"},{"id":"database","level":3,"title":"Database"},{"id":"shard","level":3,"title":"Shard"},{"id":"kv-store","level":2,"title":"KV Store"},{"id":"compaction","level":3,"title":"Compaction"},{"id":"rollup","level":3,"title":"Rollup"},{"id":"sstable-layout","level":3,"title":"SSTable layout"}],"releases":null,"sidebar":[{"index":2,"title":"Getting Started","children":[{"index":1,"title":"Docker","children":[],"href":"/docs/lindb/getting-started/docker"},{"index":2,"title":"安装包","children":[],"href":"/docs/lindb/getting-started/package"}]},{"index":3,"title":"Developer Guide","children":[{"index":1,"title":"建立连接","children":[],"href":"/docs/lindb/developer-guide/connect"},{"index":2,"title":"创建数据库","children":[],"href":"/docs/lindb/developer-guide/create-database"},{"index":3,"title":"写入数据","children":[],"href":"/docs/lindb/developer-guide/insert-data"},{"index":4,"title":"查询数据","children":[],"href":"/docs/lindb/developer-guide/query-data"}]},{"index":4,"title":"Deployment","children":[{"index":1,"title":"Kubernetes","children":[],"href":"/docs/lindb/deployment/kubernetes"},{"index":2,"title":"手动部署","children":[],"href":"/docs/lindb/deployment/manual"}]},{"index":5,"title":"Client","children":[{"index":1,"title":"CLI","children":[],"href":"/docs/lindb/client/cli"},{"index":2,"title":"客户端 SDK","children":[],"href":"/docs/lindb/client/client-libraries"},{"index":3,"title":"Go","children":[],"href":"/docs/lindb/client/go"},{"index":4,"title":"Java","children":[],"href":"/docs/lindb/client/java"}]},{"index":6,"title":"Lin Ql","children":[{"index":1,"title":"SQL","children":[],"href":"/docs/lindb/lin-ql/sql"}]},{"index":7,"title":"Admin Console","children":[{"index":1,"title":"简介","children":[],"href":"/docs/lindb/admin-console/index"},{"index":2,"title":"集群状态","children":[],"href":"/docs/lindb/admin-console/overview"},{"index":3,"title":"数据查询","children":[],"href":"/docs/lindb/admin-console/search"},{"index":4,"title":"数据浏览","children":[],"href":"/docs/lindb/admin-console/explore"},{"index":5,"title":"监控","children":[],"href":"/docs/lindb/admin-console/monitoring"},{"index":6,"title":"元数据","children":[],"href":"/docs/lindb/admin-console/metadata"}]},{"index":8,"title":"Api","children":[{"index":1,"title":"介绍","children":[],"href":"/docs/lindb/api/index"},{"index":2,"title":"数据写入","children":[],"href":"/docs/lindb/api/insert"},{"index":3,"title":"数据查询","children":[],"href":"/docs/lindb/api/query"},{"index":4,"title":"集群状态","children":[],"href":"/docs/lindb/api/state"}]},{"index":9,"title":"Reference","children":[{"index":1,"title":"数据模型","children":[],"href":"/docs/lindb/reference/data-model"},{"index":2,"title":"Metric","children":[],"href":"/docs/lindb/reference/metric"},{"index":3,"title":"配置参数","children":[],"href":"/docs/lindb/reference/configuration"}]},{"index":10,"title":"Design","children":[{"index":1,"title":"架构","children":[],"href":"/docs/lindb/design/architecture"},{"index":2,"title":"集群协调","children":[],"href":"/docs/lindb/design/coordinator"},{"index":3,"title":"数据复制","children":[],"href":"/docs/lindb/design/replication"},{"index":4,"title":"查询","children":[],"href":"/docs/lindb/design/query"},{"index":5,"title":"存储","children":[],"href":"/docs/lindb/design/storage"},{"index":6,"title":"内存数据库","children":[],"href":"/docs/lindb/design/memory-database"},{"index":7,"title":"例排索引","children":[],"href":"/docs/lindb/design/inverted-index"}]}],"locale":"zh","_nextI18Next":{"initialI18nStore":{"zh":{"translation":{"A lightweight, observability pipeline":"轻量级数据处理平台","A single server could easily support more than one million write TPS.":"机支持百万以上TPS写入；","Admin Console":"控制台","All-in-one observability platform":"一站式可观测平台","An open-source, cloud native, horizontally scalable, distributed time-series database.":"一款开源分布式时序数据库，具有高性能、高可用性和水平扩展性","An open-source, cloud native, observabilty platform":"云原生开源可观测平台","Architecture":"整体架构","Ask a Question":"提问","Auto Rollup":"自动 Rollup","Bug report":"发现 Bug","Client":"客户端","Cross Multiple IDCs":"跨多数据中心","Deployment":"集群部署","Design":"设计","Developer Guide":"开发手册","Distributed time-series database":"分布式时序数据库","Docs":"文档","Documentation":"文档","Downloads":"下载","Easy to use":"简单易用","Edit this page on Github":"在 GitHub 上编辑此页","Feature request":"新需求","Get Help":"获取帮助","Getting Started":"快速开始","High availability":"高可用","High performance":"高性能","Horizontal scalability":"水平扩展","Horizontal scalable is made simple by adding more new broker and storage nodes without too much thinking and manual operations Schema-free multi-dimensional data model with Metric, Tags, and Fields.":"支持 Tags 级别的 Sharding 机制，可将任一 Metric 数据充分分散到多个存储节点；","Insert data":"数据写入","Inside LinDB":"技术内幕","Introduction":"介绍","Inverted index":"例排索引","Key Features":"主要功能","Learn More":"更多","License":"许可证","LinDB is designed to work under a Multi-Active IDCs cloud architecture. The compute layer of LinDB, called brokers, supports efficient Multi-IDCs aggregation query.":"支持各数据中心写入，多数据中心查询聚合；","LinDB supports rollup in specific intervals(minute, hour and day) automatically after creating the database(unlike the Continuous-Query of InfluxDB).":"支持秒级数据写入后自动Rollup到分钟、小时和天的粒度，无需人工介入（如 InfluxDB Continuous-Query）；","On this page":"本页导航","Open source":"开源","Query data":"数据查询","Read the installation guide for more information":{"":"查看安装手册了解更多信息。"},"Reference":"参考手册","Release Date":"发布时间","Release Note":"发布日志","Releases":"变更日志","Resources":"资源","Schema-free multi-dimensional data model with Metric, Tags, and Fields.":"支持 Metric + Tags + Fields 的方式，无需提前定义 Schema；","Storage":"存储","Tags-based sharding strategy resolves the hotspot problem":"充分解决热点问题，可通过增加服务器数量线性增加处理能力；","The LinQL is flexible yet handy for real-time data analytics.":"可通过 LinQL 进行实时数据分析；","The multi-channel replication protocol supports any amount of nodes, ensures the system availability.":"独创的多通道复制协议支持任意节点数的多副本机制，可保证整个服务的高可用性；","This page could not be found":"找不到此页面","Uncompress":"解压","Version":"版本","View on GitHub":"GitHub","What's LinDB?":"什么是 LinDB？","What's New in":"","Why LinDB?":"为什么选择 LinDB？","With fundamental techniques like efficient compression storage and parallel computing, LinDB delivers highly optimized query performance.":"高效的数据压缩与多节点的并行查询与计算，专注查询性能优化；"}},"en":{"translation":{"Lin Ql":"Lin QL","Api":"API"}}},"initialLocale":"zh","ns":["translation"],"userConfig":null}},"__N_SSG":true}